Index: debian/ruleset/misc/version_vars.mk
===================================================================
--- debian/ruleset/misc/version_vars.mk.orig	2010-04-04 22:44:45.000000000 -0300
+++ debian/ruleset/misc/version_vars.mk	2010-04-04 22:46:00.000000000 -0300
@@ -138,7 +138,9 @@ iatv :=
 EXTRAV_ARG :=
 endif
 
-UTS_RELEASE_HEADER=$(call doit,if [ -f include/linux/utsrelease.h ]; then  \
+UTS_RELEASE_HEADER=$(call doit,if [ -f include/generated/utsrelease.h ]; then  \
+	                       echo include/generated/utsrelease.h;            \
+	                   elif [ -f include/linux/utsrelease.h ]; then  \
 	                       echo include/linux/utsrelease.h;            \
 	                   else                                            \
                                echo include/linux/version.h ;              \
Index: debian/ruleset/targets/common.mk
===================================================================
--- debian/ruleset/targets/common.mk.orig	2010-04-04 22:42:45.000000000 -0300
+++ debian/ruleset/targets/common.mk	2010-04-04 22:43:56.000000000 -0300
@@ -333,7 +333,7 @@ endif
 	@echo this was built on a machine with the kernel: >> debian/buildinfo
 	uname -a >> debian/buildinfo
 	echo using the compiler: >> debian/buildinfo
-	grep LINUX_COMPILER include/linux/compile.h | \
+	grep LINUX_COMPILER include/generated/compile.h | \
 	   sed -e 's/.*LINUX_COMPILER "//' -e 's/"$$//' >> debian/buildinfo
 ifneq ($(strip $(shell test -f version.Debian && cat version.Debian)),)
 	echo kernel source package used: >> debian/buildinfo
