This is a project to release 100% Free Software kernel binaries for
Fedora.

In http://www.fsfla.org/~lxoliva/snapshots/linux-libre/freed-ora
you'll find yum repositories with 100% Free kernel sources and
binaries:

README: This file, possibly out of date.
F-$releasever/: Free kernels based on Fedora releases and stable updates.
F-$releasever-testing/: Free kernels based on Fedora updates in testing.
F-$releasever-detesting/: Free kernels based on Fedora CVS.
devel/: Free builds based on Fedora development (rawhide) tree.
src/: Cleaned-up tarballs and patches from kernel.org as required for
kernel builds for Fedora.


In
<URL:http://www.fsfla.org/svn/fsfla/software/linux-libre/freed-ora>,
you'll find:

README: This file, possibly updated.
current/: CVS trees that track Fedora kernel CVS trees.
tags/: History of kernel-libre builds for Fedora.

In the Subversion repository at fsfla.org, you'll only find files from
the Fedora CVS tree that are modified in order to make the kernel 100%
Free Software.  CVS files checked into SVN is definitely an odd
arrangement, but it works just fine, it saves duplication of effort
and it makes it very easy to track changes in Fedora CVS.  Here's how
to use it:

The first thing to do is to cvs -z9 update the checked-out tree.  This
will fetch all removed files from the Fedora CVS server.  You don't
need a Fedora login, it uses the anonymous CVS server.

Second, you'll have to fetch the tarballs and patch files.  In theory,
this is all you should have to do:

  make download

And then, you should be ready for Fedora local builds such as `make
mock', `make x86_64', `make i686', etc.


Just in case in the future I remove old Freed tarballs or patch files,
and that by the time you read this, they're be gone, you can still get
the freed sources.  In this case, you still have all you need to
recover the Freed tarballs and patch files, but it takes a bit more
work, and it will involve getting non-Free Software downloaded from
kernel.org into your machine.

First, revert the file named upstream to what's in Fedora CVS, then
download the sources from kernel.org, and finally revert upstream to
what's in SVN.

  cvs diff -u upstream | patch -p0 -R
  make download
  svn revert upstream

Then, you'll notice there are some .xdelta files that CVS knows
nothing about (and is not configured to ignore) in the CVS tree.
These are the ones you'll need to clean up the non-Free tarballs and
patches into Free ones.  I use xdelta because it's unidirectional, so
I don't redistribute the non-Free Software myself, not even as a
reversible patch meant to remove that non-Free Software.  I've also
used xdeltas without compression, so that you can have an idea of
what's being added by the delta (although not quite see what's being
removed).

To recover say the linux-2.6.25-libre.tar.bz2 tarball out of
linux-2.6.25.tar.bz2, the xdelta is between bunzip2ed tarballs.  To
turn linux-2.6.25.tar.bz2 into linux-2.6.25-libre.tar.bz2, you do
something like this:

  bunzip2 < linux-2.6.25.tar.bz2 > linux-2.6.25.tar
  xdelta patch linux-2.6.25-libre.xdelta linux-2.6.25.tar linux-2.6.25-libre.tar
  bzip2 -9 linux-2.6.25-libre.tar.bz2
  rm -f linux-2.6.25.tar
  
Although the deblobbing approach introduced in
linux-2.6.2[345]-libre.tar.bz2 doesn't require deblobbing of patch
files very often, earlier approaches did, and if new upstream patches
introduce blobs, you can follow a similar procedure to apply the
xdelta so as ot form cleaned-up patches.


Be Free!

--
Alexandre Oliva  <lxoliva@fsfla.org>
